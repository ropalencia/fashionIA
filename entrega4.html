<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ronald Gabriel Palencia">
<meta name="author" content="Junior Antonio Muñoz Henao">

<title>Funcionalidades a nivel prototipo.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="entrega4_files/libs/clipboard/clipboard.min.js"></script>
<script src="entrega4_files/libs/quarto-html/quarto.js"></script>
<script src="entrega4_files/libs/quarto-html/popper.min.js"></script>
<script src="entrega4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="entrega4_files/libs/quarto-html/anchor.min.js"></script>
<link href="entrega4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="entrega4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="entrega4_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="entrega4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="entrega4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="entrega4_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="entrega4_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#funcionalidades-a-nivel-prototipo" id="toc-funcionalidades-a-nivel-prototipo" class="nav-link active" data-scroll-target="#funcionalidades-a-nivel-prototipo">Funcionalidades a nivel prototipo</a>
  <ul class="collapse">
  <li><a href="#backend-funcional" id="toc-backend-funcional" class="nav-link" data-scroll-target="#backend-funcional">Backend funcional</a>
  <ul class="collapse">
  <li><a href="#recepción-de-la-imagen" id="toc-recepción-de-la-imagen" class="nav-link" data-scroll-target="#recepción-de-la-imagen">1. Recepción de la imagen</a></li>
  <li><a href="#extracción-de-características-con-vgg16" id="toc-extracción-de-características-con-vgg16" class="nav-link" data-scroll-target="#extracción-de-características-con-vgg16">2. Extracción de características con VGG16</a></li>
  <li><a href="#reducción-de-dimensionalidad-con-pca" id="toc-reducción-de-dimensionalidad-con-pca" class="nav-link" data-scroll-target="#reducción-de-dimensionalidad-con-pca">3. Reducción de dimensionalidad con PCA</a></li>
  <li><a href="#búsqueda-de-imágenes-similares-con-knn" id="toc-búsqueda-de-imágenes-similares-con-knn" class="nav-link" data-scroll-target="#búsqueda-de-imágenes-similares-con-knn">4. Búsqueda de imágenes similares con KNN</a></li>
  <li><a href="#respuesta-en-formato-json" id="toc-respuesta-en-formato-json" class="nav-link" data-scroll-target="#respuesta-en-formato-json">5. Respuesta en formato JSON</a></li>
  </ul></li>
  <li><a href="#video-explicativo" id="toc-video-explicativo" class="nav-link" data-scroll-target="#video-explicativo">Video explicativo</a></li>
  <li><a href="#prueba-la-api-tú-mismo" id="toc-prueba-la-api-tú-mismo" class="nav-link" data-scroll-target="#prueba-la-api-tú-mismo">¡Prueba la API tú mismo!</a></li>
  <li><a href="#frontend-funcional" id="toc-frontend-funcional" class="nav-link" data-scroll-target="#frontend-funcional">Frontend Funcional</a></li>
  </ul></li>
  <li><a href="#material-publicitario-para-promoverlo." id="toc-material-publicitario-para-promoverlo." class="nav-link" data-scroll-target="#material-publicitario-para-promoverlo.">Material publicitario para promoverlo.</a>
  <ul class="collapse">
  <li><a href="#landing-page" id="toc-landing-page" class="nav-link" data-scroll-target="#landing-page">Landing Page</a></li>
  <li><a href="#piezas-gráficas-publicitarias" id="toc-piezas-gráficas-publicitarias" class="nav-link" data-scroll-target="#piezas-gráficas-publicitarias">Piezas gráficas publicitarias</a></li>
  <li><a href="#plan-de-mercado" id="toc-plan-de-mercado" class="nav-link" data-scroll-target="#plan-de-mercado">Plan de mercado</a></li>
  <li><a href="#plan-de-negocio" id="toc-plan-de-negocio" class="nav-link" data-scroll-target="#plan-de-negocio">Plan de negocio</a>
  <ul class="collapse">
  <li><a href="#reportes-técnicos" id="toc-reportes-técnicos" class="nav-link" data-scroll-target="#reportes-técnicos">Reportes Técnicos</a></li>
  <li><a href="#reporte-de-contribución-individual-de-los-intregrantes-del-proyecto" id="toc-reporte-de-contribución-individual-de-los-intregrantes-del-proyecto" class="nav-link" data-scroll-target="#reporte-de-contribución-individual-de-los-intregrantes-del-proyecto">Reporte de Contribución Individual de los intregrantes del proyecto</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Funcionalidades a nivel prototipo.</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autores/as</div>
    <div class="quarto-title-meta-contents">
             <p>Ronald Gabriel Palencia <a href="mailto:ropalencia@unal.edu.co" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
             <p>Junior Antonio Muñoz Henao <a href="mailto:jmunozhe@unal.edu.co" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="funcionalidades-a-nivel-prototipo" class="level1">
<h1>Funcionalidades a nivel prototipo</h1>
<section id="backend-funcional" class="level2">
<h2 class="anchored" data-anchor-id="backend-funcional">Backend funcional</h2>
<p>El desarrollo del backend se realizó usando <strong>FastAPI</strong>, creando una API que recibe imágenes y devuelve recomendaciones de productos similares basadas en características visuales. A continuación, se resumen los pasos más importantes de este proceso:</p>
<hr>
<section id="recepción-de-la-imagen" class="level3">
<h3 class="anchored" data-anchor-id="recepción-de-la-imagen">1. Recepción de la imagen</h3>
<p>La API permite al usuario cargar una imagen. Esta imagen se procesa convirtiéndola a formato <strong>RGB</strong>, redimensionándola a <strong>256x256 píxeles</strong> y normalizándola, garantizando que esté lista para ser utilizada por los modelos.</p>
<hr>
</section>
<section id="extracción-de-características-con-vgg16" class="level3">
<h3 class="anchored" data-anchor-id="extracción-de-características-con-vgg16">2. Extracción de características con VGG16</h3>
<p>Una vez procesada, la imagen es pasada a través de un modelo preentrenado de <strong>VGG16</strong>, que extrae un vector de características visuales de la imagen, representando su contenido.</p>
<hr>
</section>
<section id="reducción-de-dimensionalidad-con-pca" class="level3">
<h3 class="anchored" data-anchor-id="reducción-de-dimensionalidad-con-pca">3. Reducción de dimensionalidad con PCA</h3>
<p>El vector de características extraído es transformado mediante <strong>PCA</strong>, lo que reduce su dimensionalidad. Esto permite optimizar el proceso de búsqueda de imágenes similares y hacerlo más eficiente.</p>
<hr>
</section>
<section id="búsqueda-de-imágenes-similares-con-knn" class="level3">
<h3 class="anchored" data-anchor-id="búsqueda-de-imágenes-similares-con-knn">4. Búsqueda de imágenes similares con KNN</h3>
<p>Después de aplicar PCA, el algoritmo de <strong>K-Nearest Neighbors (KNN)</strong> busca en el conjunto de datos las imágenes más similares a la proporcionada por el usuario, calculando las distancias entre las características reducidas.</p>
<hr>
</section>
<section id="respuesta-en-formato-json" class="level3">
<h3 class="anchored" data-anchor-id="respuesta-en-formato-json">5. Respuesta en formato JSON</h3>
<p>Finalmente, se devuelven las rutas de las imágenes más similares junto con las distancias calculadas en formato <strong>JSON</strong>, facilitando su visualización en el frontend como recomendaciones de productos similares.</p>
<hr>
</section>
</section>
<section id="video-explicativo" class="level2">
<h2 class="anchored" data-anchor-id="video-explicativo">Video explicativo</h2>
<p>A continuación, puedes ver un video demostrativo del sistema en acción:</p>
<div style="text-align: center; margin-top: 20px;">
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/7AXo-bYGXI4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
</div>
<hr>
</section>
<section id="prueba-la-api-tú-mismo" class="level2">
<h2 class="anchored" data-anchor-id="prueba-la-api-tú-mismo">¡Prueba la API tú mismo!</h2>
<p>Ahora que has visto cómo funciona el sistema, te invitamos a hacer una prueba tú mismo. Puedes acceder a la documentación de la API interactiva y hacer tus propias peticiones:</p>
<div style="text-align: center; margin-top: 20px;">
<p><a href="https://fashionia-2.onrender.com/docs" target="_blank" style="background-color: #FF5733; color: white; padding: 15px 30px; text-align: center; text-decoration: none; display: inline-block; font-size: 18px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);"> 🚀 Prueba la API en FastAPI </a></p>
</div>
</section>
<section id="frontend-funcional" class="level2">
<h2 class="anchored" data-anchor-id="frontend-funcional">Frontend Funcional</h2>
<p>El desarrollo del frontend se realizó utilizando la herramienta Streamlit, proporcionando una interfaz sencilla y amigable para interactuar con el sistema de recomendación de productos de moda. En esta parte del desarrollo, se implementan los siguientes pasos:</p>
<ul>
<li><p>Subida de imagen: La aplicación permite al usuario subir una imagen desde su dispositivo (en formato .jpg o .png). Una vez cargada, la imagen se muestra en la pantalla, redimensionada a 150x150 píxeles para mayor nitidez y adaptación al diseño visual.</p></li>
<li><p>Selección del número de recomendaciones: El usuario puede elegir el número de productos recomendados mediante un control deslizante, con un rango de entre 1 y 10 recomendaciones. Este valor es utilizado como parámetro para solicitar a la API el número deseado de productos similares.</p></li>
<li><p>Generación de recomendaciones: Cuando el usuario presiona el botón “Generar Recomendaciones”, la imagen se convierte en un archivo binario (formato JPEG) y se envía a la API de recomendación a través de una solicitud POST. Se incluyen también los parámetros adicionales, como el número de recomendaciones solicitadas.</p></li>
<li><p>Procesamiento de la respuesta: Si la API responde exitosamente, la aplicación recibe un conjunto de productos recomendados junto con sus distancias (que indican la similitud con la imagen original). Cada recomendación contiene la ruta de la imagen y la distancia calculada.</p></li>
<li><p>Visualización de las recomendaciones: Las imágenes recomendadas se muestran en la interfaz en un formato de mosaico, distribuidas en columnas (tres columnas por fila). Cada imagen se redimensiona a 150x150 píxeles y se presenta con una etiqueta que indica la distancia con respecto a la imagen original. Si ocurre un error durante el proceso, se muestra un mensaje adecuado para notificar al usuario.</p></li>
</ul>
<p>[!https://fashionia.onrender.com/]</p>
</section>
</section>
<section id="material-publicitario-para-promoverlo." class="level1">
<h1>Material publicitario para promoverlo.</h1>
<section id="landing-page" class="level2">
<h2 class="anchored" data-anchor-id="landing-page">Landing Page</h2>
<p>Para promocionar el producto, se diseñó una landing page con un enfoque estratégico, donde se destaca la relevancia y los beneficios del producto. A lo largo de la página, se guía al usuario a través de un embudo de conversión cuidadosamente diseñado. El objetivo principal es motivar al visitante a realizar una prueba gratuita, utilizando llamados a la acción (call to action) efectivos.</p>
<p>La intención es que, al probar el producto, el usuario se sienta atraído por su valor y se incline a suscribirse a uno de los planes ofrecidos. Esta landing page fue desarrollada utilizando una herramienta no-code, lo que permitió agilizar su implementación y optimizar el proceso sin necesidad de codificación, garantizando una experiencia fluida y visualmente atractiva.</p>
<div style="text-align: center; margin-top: 20px;">
<p><a href="https://fashionia.website/" target="_blank" style="background-color: #4CAF50; color: white; padding: 15px 25px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"> Visita la Landing Page </a></p>
</div>
</section>
<section id="piezas-gráficas-publicitarias" class="level2">
<h2 class="anchored" data-anchor-id="piezas-gráficas-publicitarias">Piezas gráficas publicitarias</h2>
<p>Estas piezas gráficas publicitarias fueron creadas con el propósito de atraer la atención del público objetivo hacia una campaña específica, utilizando una combinación de elementos visuales atractivos, mensajes persuasivos y un diseño coherente. Cada una de las imágenes busca transmitir un mensaje claro y directo que resuene con los valores y necesidades del consumidor, a la vez que refuerza la identidad de la marca o producto promovido.</p>
<div style="display: flex; flex-wrap: wrap; justify-content: space-around;">
<p><img src="publicidad/1.png" alt="pieza1" style="width: 30%; margin: 10px;"> <img src="publicidad/2.png" alt="pieza2" style="width: 30%; margin: 10px;"> <img src="publicidad/3.png" alt="pieza3" style="width: 30%; margin: 10px;"></p>
</div>
</section>
<section id="plan-de-mercado" class="level2">
<h2 class="anchored" data-anchor-id="plan-de-mercado">Plan de mercado</h2>
<p>Este Plan de Mercado equilibra una estrategia moderna con influencers y redes sociales, con tácticas de marketing tradicional y acciones de adquisición de usuarios. Las campañas con micro-influencers en moda ética refuerzan la imagen de exclusividad y personalización, mientras que las campañas de SEO y email marketing garantizan una base de clientes constante.</p>
<div id="carousel-market" class="carousel-container" style="position: relative; width: 80%; margin: auto;">
<p><img class="carousel-slide-market" src="publicidad/plg1.png" alt="Imagen 1" style="width: 100%; display: block;"> <img class="carousel-slide-market" src="publicidad/plg2.png" alt="Imagen 2" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg3.png" alt="Imagen 3" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg4.png" alt="Imagen 4" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg5.png" alt="Imagen 5" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg6.png" alt="Imagen 6" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg7.png" alt="Imagen 7" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg8.png" alt="Imagen 8" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg9.png" alt="Imagen 9" style="width: 100%; display: none;"> <img class="carousel-slide-market" src="publicidad/plg10.png" alt="Imagen 10" style="width: 100%; display: none;"></p>
<p><button class="prev" onclick="moveSlideMarket(-1)" style="position: absolute; top: 50%; left: 0; background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 10px;">❮</button> <button class="next" onclick="moveSlideMarket(1)" style="position: absolute; top: 50%; right: 0; background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 10px;">❯</button></p>
</div>
<script>
  let currentSlideMarket = 0;
  const slidesMarket = document.querySelectorAll('.carousel-slide-market');

  function moveSlideMarket(n) {
    slidesMarket[currentSlideMarket].style.display = "none";
    currentSlideMarket = (currentSlideMarket + n + slidesMarket.length) % slidesMarket.length;
    slidesMarket[currentSlideMarket].style.display = "block";
  }

  document.addEventListener("DOMContentLoaded", function() {
    slidesMarket.forEach((slide, index) => {
      slide.style.display = index === 0 ? "block" : "none";
    });
  });
</script>
</section>
<section id="plan-de-negocio" class="level2">
<h2 class="anchored" data-anchor-id="plan-de-negocio">Plan de negocio</h2>
<p>Este plan de negocios presenta una solución a la “parálisis por análisis” que enfrentan los usuarios al comprar ropa en línea, mediante un sistema de recomendaciones basado en un input de prendas. El modelo de negocio se enfoca en ingresos por suscripciones, publicidad dirigida y licenciamiento del motor de recomendación. Se analizan los costos iniciales, ingresos potenciales y el mercado objetivo, compuesto por personas de 18 a 40 años interesadas en moda sostenible y personalizada.</p>
<div id="carousel-business" class="carousel-container" style="position: relative; width: 80%; margin: auto;">
<p><img class="carousel-slide-business" src="publicidad/pln1.png" alt="Plan 1" style="width: 100%; display: block;"> <img class="carousel-slide-business" src="publicidad/pln2.png" alt="Plan 2" style="width: 100%; display: none;"> <img class="carousel-slide-business" src="publicidad/pln3.png" alt="Plan 3" style="width: 100%; display: none;"> <img class="carousel-slide-business" src="publicidad/pln4.png" alt="Plan 4" style="width: 100%; display: none;"> <img class="carousel-slide-business" src="publicidad/pln5.png" alt="Plan 5" style="width: 100%; display: none;"> <img class="carousel-slide-business" src="publicidad/pln6.png" alt="Plan 6" style="width: 100%; display: none;"> <img class="carousel-slide-business" src="publicidad/pln7.png" alt="Plan 7" style="width: 100%; display: none;"></p>
<p><button class="prev" onclick="moveSlideBusiness(-1)" style="position: absolute; top: 50%; left: 0; background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 10px;">❮</button> <button class="next" onclick="moveSlideBusiness(1)" style="position: absolute; top: 50%; right: 0; background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 10px;">❯</button></p>
</div>
<script>
  let currentSlideBusiness = 0;
  const slidesBusiness = document.querySelectorAll('.carousel-slide-business');

  function moveSlideBusiness(n) {
    slidesBusiness[currentSlideBusiness].style.display = "none";
    currentSlideBusiness = (currentSlideBusiness + n + slidesBusiness.length) % slidesBusiness.length;
    slidesBusiness[currentSlideBusiness].style.display = "block";
  }

  document.addEventListener("DOMContentLoaded", function() {
    slidesBusiness.forEach((slide, index) => {
      slide.style.display = index === 0 ? "block" : "none";
    });
  });
</script>
<section id="reportes-técnicos" class="level3">
<h3 class="anchored" data-anchor-id="reportes-técnicos">Reportes Técnicos</h3>
<p>El principal reporte técnico desarrollado está enfocado en la construcción del algoritmo utilizado para el proyecto. Este documento se encuentra publicado en <strong>Quarto Pub</strong>, donde se detallan los aspectos más relevantes del algoritmo, desde su diseño hasta los resultados obtenidos.</p>
<div style="text-align: center; margin-top: 20px;">
<p><a href="https://quartopub.com/sites/ab6ced85-7919-49ef-ae9e-f437cb11610c" target="_blank" style="background-color: #4CAF50; color: white; padding: 10px 20px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"> Ver Reporte Técnico </a></p>
</div>
<p>Por otro lado, el código completo del backend y frontend está disponible en GitHub, donde se incluyen comentarios para facilitar la comprensión y uso del sistema. Puedes acceder al repositorio del proyecto dando click en el botom:</p>
<div style="text-align: center; margin-top: 20px;">
<p><a href="https://github.com/ropalencia/fashionIA/tree/main/Trabajo%203" target="_blank" style="background-color: #2196F3; color: white; padding: 10px 20px; text-align: center; text-decoration: none; display: inline-block; font-size: 16px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"> Ver Repositorio en GitHub </a></p>
</div>
</section>
<section id="reporte-de-contribución-individual-de-los-intregrantes-del-proyecto" class="level3">
<h3 class="anchored" data-anchor-id="reporte-de-contribución-individual-de-los-intregrantes-del-proyecto">Reporte de Contribución Individual de los intregrantes del proyecto</h3>
<hr>
<section id="ronald-gabriel-palencia" class="level4">
<h4 class="anchored" data-anchor-id="ronald-gabriel-palencia"><strong>Ronald Gabriel Palencia</strong></h4>
<ul>
<li>Desarrollo de la API en FastAPI</li>
<li>Desarrollo del frontend en Streamlit</li>
<li>Desarrollo del algoritmo</li>
<li>Despliegue del modelo en Render</li>
<li>Creación de la landing page en WordPress</li>
<li>Estructura del informe</li>
<li>Organización del repositorio</li>
</ul>
<hr>
</section>
<section id="junior-antonio-muñoz-henao" class="level4">
<h4 class="anchored" data-anchor-id="junior-antonio-muñoz-henao"><strong>Junior Antonio Muñoz Henao</strong></h4>
<ul>
<li>Desarrollo del Plan de negocios</li>
<li>Desarrollo del Plan de mercadeo</li>
<li>Desarrollo de piezas publicitarias</li>
</ul>
<hr>
</section>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>